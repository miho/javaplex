<project name="javaplex" default="compile" basedir=".">

	<property name="build.home" value="${basedir}/classes" />
	<property name="docs.home" value="${basedir}/doc" />
	<property name="src.home" value="${basedir}/src" />
	<property name="src_test.home" value="${basedir}/src_test" />
	<property name="javadoc.home" value="${basedir}/javadoc" />

	<property name="compile.debug" value="true" />
	<property name="compile.deprecation" value="false" />
	<property name="compile.optimize" value="true" />
	<property name="compile.source" value="1.5" />

	<property name="junit.output.dir" value="junit" />

	<property name="jar.name" value="javaplex.jar" />

	<path id="master-classpath">
		<fileset dir="${basedir}/lib">
			<include name="*.jar" />
		</fileset>
	</path>

	<target name="all" depends="clean,compile" description="Clean build and dist directories, then compile" />

	<target name="clean" description="Delete old classes">
		<delete dir="${build.home}" />
	</target>

	<target name="compile" depends="prepare" description="Compile Java sources">

		<mkdir dir="${build.home}" />
		<javac srcdir="${src.home}" destdir="${build.home}" debug="${compile.debug}" deprecation="${compile.deprecation}" optimize="${compile.optimize}" source="${compile.source}">

			<classpath refid="master-classpath" />

		</javac>

	</target>

	<target name="javadoc">
		<javadoc destdir="${docs.home}" classpathref="master-classpath" sourcepath="${src.home}">
			<package name="edu.stanford.math.plex4" />
			<fileset dir="${src.home}" />
		</javadoc>
	</target>


	<target name="prepare">
		<mkdir dir="${build.home}" />
	</target>

</project>


